<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>ì§€ë§Œì§€ë“œë¼ë§ˆ ì‹­ìë§í’€ì´</title>
    <meta property="og:title" content="ì§€ë§Œì§€ë“œë¼ë§ˆ ì‹­ìë§í’€ì´">
    <meta property="og:description" content="í¬ê³¡ì§€ì™•(æˆ±æ›²ä¹‹ç‹)ì— ë„ì „í•´ ë³´ì„¸ìš”!">
    <meta property="og:image" content="https://zmanzdrama.netlify.app/crossword/crossword_thumb.jpg">
    <meta property="og:url" content="https://zmanzdrama.netlify.app/crossword/crossword.html">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
    <script src="https://developers.kakao.com/sdk/js/kakao.js"></script>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-RK144LB827"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
    
      gtag('config', 'G-RK144LB827');
    </script>
    <script>
        Kakao.init('ebe32603af5a77385396832db327f040'); // ì—¬ê¸°ì— ë³¸ì¸ì˜ ì¹´ì¹´ì˜¤ ìë°”ìŠ¤í¬ë¦½íŠ¸ í‚¤ë¥¼ ì…ë ¥í•˜ì„¸ìš”
    </script>


    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&display=swap');
    
        :root {
            --main-pink: #ff69b4;
            --light-pink: #fff0f5;
            --dark-pink: #c71585;
            --soft-pink: #ffe9f4;
            --background-color: #fdfaf6;
            --text-color: #333;
            --border-color: #eee;
            --inactive-color: #f2f2f2;
        }

        /* --- âœ¨ 1. ê¸°ë³¸ ë ˆì´ì•„ì›ƒ ìˆ˜ì • âœ¨ --- */
        html, body {
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
            overflow: hidden; /* ì „ì²´ í˜ì´ì§€ ìŠ¤í¬ë¡¤ ë°©ì§€ */
            background-color: var(--soft-pink); /* ì•± ë°”ê¹¥ ë°°ê²½ìƒ‰ */
        }
    
        body {
            font-family: 'Noto Sans KR', 'Apple SD Gothic Neo', sans-serif;
            color: var(--text-color);
            -webkit-text-size-adjust: 100%; /* iOSì—ì„œ ê¸€ì í¬ê¸° ìë™ ì¡°ì ˆ ë°©ì§€ */
        }

        /* --- âœ¨ 2. ì•± ì „ì²´ë¥¼ ê°ì‹¸ëŠ” ì»¨í…Œì´ë„ˆ ì¶”ê°€ âœ¨ --- */
        #app-container {
            width: 100%;
            max-width: 500px; /* ë°ìŠ¤í¬íƒ‘ì—ì„œ ìµœëŒ€ ë„ˆë¹„ */
            height: 100%;
            margin: 0 auto; /* ë°ìŠ¤í¬íƒ‘ì—ì„œ ì¤‘ì•™ ì •ë ¬ */
            background-color: var(--background-color);
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 25px 20px; /* ë‚´ë¶€ ì—¬ë°± */
            box-sizing: border-box;
            overflow-y: auto; /* ì»¨í…Œì´ë„ˆ ë‚´ë¶€ë§Œ ìŠ¤í¬ë¡¤ë˜ë„ë¡ ì„¤ì • */
            -ms-overflow-style: none; /* IE, Edge ìŠ¤í¬ë¡¤ë°” ìˆ¨ê¸°ê¸° */
            scrollbar-width: none; /* Firefox ìŠ¤í¬ë¡¤ë°” ìˆ¨ê¸°ê¸° */
        }
        #app-container::-webkit-scrollbar {
            display: none; /* Chrome, Safari ìŠ¤í¬ë¡¤ë°” ìˆ¨ê¸°ê¸° */
        }
    
        h1 {
            color: var(--main-pink);
            font-weight: 700;
            letter-spacing: 2px;
            margin: 0 0 15px 0; /* ìƒë‹¨ ë§ˆì§„ ì œê±°, í•˜ë‹¨ ë§ˆì§„ ì¡°ì • */
            font-size: clamp(1.5em, 7vw, 1.8em);
            text-align: center;
        }

        /* --- âœ¨ 3. ìš”ì†Œë³„ ì—¬ë°± ë° ë„ˆë¹„ ì¡°ì • âœ¨ --- */
        .intro-text {
            width: 100%; /* ë¶€ëª¨ ì»¨í…Œì´ë„ˆ ë„ˆë¹„ì— ë§ì¶¤ */
            margin: 0 0 25px 0; /* ìƒë‹¨ ë§ˆì§„ ì œê±°, í•˜ë‹¨ ë§ˆì§„ ì¡°ì • */
            padding: 15px 20px;
            background-color: #fff;
            border-radius: 12px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.07);
            text-align: left;
            font-size: clamp(0.85em, 3.5vw, 0.95em);
            color: #555;
            line-height: 1.7;
            box-sizing: border-box;
        }

        #crossword-container {
            width: 100%;
            display: flex;
            justify-content: center;
            margin-bottom: 20px; /* í•˜ë‹¨ ì—¬ë°± ì¶”ê°€ */
        }
    
        #crossword-grid {
            display: grid;
            grid-template-columns: repeat(10, 8.5vw);
            grid-template-rows: repeat(10, 8.5vw);
            max-width: 450px;
            max-height: 450px;
            gap: 2px;
            background-color: #ccc;
            border-radius: 8px;
            box-shadow: 0 6px 12px rgba(0,0,0,0.08);
        }
    
        .grid-cell {
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: clamp(1em, 4vw, 1.2em);
            font-weight: bold;
            box-sizing: border-box;
            background-color: var(--inactive-color);
            position: relative;
            user-select: none;
            transition: all 0.2s ease;
        }
    
        .grid-cell.active { background-color: #fff; cursor: pointer; }
        .grid-cell.filled { background-color: var(--light-pink); color: var(--dark-pink); }
        .grid-cell.selected { border: 3px solid var(--main-pink); transform: scale(1.05); z-index: 10; }
    
        .cell-number {
            position: absolute;
            top: 1px;
            left: 2px;
            font-size: 0.6em;
            color: #888;
        }
        
        .ui-container, #input-area {
            width: 100%; /* ë¶€ëª¨ ì»¨í…Œì´ë„ˆ ë„ˆë¹„ì— ë§ì¶¤ */
            max-width: 500px;
            box-sizing: border-box;
        }
    
        .ui-container {
            margin-top: 0; /* ìƒë‹¨ ì—¬ë°± ì œê±° */
            margin-bottom: 15px; /* í•˜ë‹¨ ì—¬ë°± ì¶”ê°€ */
            padding: 10px 15px;
            background-color: #fff;
            border: 1px solid var(--border-color);
            border-radius: 12px;
            text-align: left;
            box-shadow: 0 4px 8px rgba(0,0,0,0.07);
        }
    
        #hint-text {
            font-size: clamp(0.85em, 3.5vw, 1em);
            color: #555;
            line-height: 1.5;
            min-height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: left;
        }
    
        #input-area {
            margin-top: 0; /* ìƒë‹¨ ì—¬ë°± ì œê±° */
            display: flex;
            gap: 10px;
        }
    
        #answer-input {
            flex-grow: 1;
            padding: 15px;
            font-size: 1em;
            border: 2px solid var(--border-color);
            border-radius: 8px;
        }
    
        #submit-answer {
            padding: 15px 20px;
            font-size: clamp(14px, 4vw, 16px); 
            font-weight: bold;
            background-color: var(--main-pink);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            white-space: nowrap; 
            flex-shrink: 0;
            transition: background-color 0.2s;
        }
        #submit-answer:hover {
            background-color: var(--dark-pink);
        }


        /* [3] ì „ì²´ í‘¸í„° ì˜ì—­ ê°„ê²© ì¡°ì • */
        #footer-actions {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            width: 100%;
            margin-top: 45px; /* ì œì¶œí•˜ê¸° ë²„íŠ¼ê³¼ì˜ ê°„ê²©ì„ ë” ì¤Œ */
            padding-bottom: 20px;
        }

        /* ê° ì•„ì´ì½˜ ê·¸ë£¹ */
        #social-links,
        #share-feature {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        /* ëª¨ë“  ì›í˜• ì•„ì´ì½˜ ë²„íŠ¼ì˜ ê³µí†µ ëª¨ì–‘ */
        #social-links a,
        #share-toggle-button {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.08);
            transition: all 0.2s ease-in-out;
            padding: 0;
            box-sizing: border-box;
            text-decoration: none;
        }

        /* ì†Œì…œ 'ë°©ë¬¸' ë²„íŠ¼ ìƒ‰ìƒ */
        #social-links a {
            background-color: #ffffff;
            border: 1px solid #eee;
        }

        /* 'ê³µìœ ' í† ê¸€ ë²„íŠ¼ ìƒ‰ìƒ */
        #share-toggle-button {
            background-color: var(--soft-pink);
            border: 1px solid #e5e5e5;
        }

        /* ì•„ì´ì½˜ ë‚´ë¶€ ì´ë¯¸ì§€/SVG í¬ê¸° ë° ìƒ‰ìƒ */
        #social-links img,
        #share-toggle-button svg {
            width: 28px;
            height: 28px;
            vertical-align: middle;
        }
        #share-toggle-button svg {
            fill: #555555;
        }

        /* í˜¸ë²„ íš¨ê³¼ */
        #social-links a:hover,
        #share-toggle-button:hover {
            transform: translateY(-3px);
        }

        /* --- âœ¨ í¼ì¹¨ ë©”ë‰´ í•µì‹¬ ìˆ˜ì • (v2) âœ¨ --- */

        /* ê³µìœ  ê¸°ëŠ¥ ì»¨í…Œì´ë„ˆ */
        #share-feature {
            position: relative;
        }

        /* í¼ì³ì§ˆ ì•„ì´ì½˜ë“¤ì„ ê°ì‹¸ëŠ” ì»¨í…Œì´ë„ˆ (ì• ë‹ˆë©”ì´ì…˜ ê¸°ì¤€ì ) */
        #share-options {
            position: absolute;
            /* ê¸°ì¤€ì ì„ ê³µìœ  ë²„íŠ¼ì˜ ì •ì¤‘ì•™ìœ¼ë¡œ ì„¤ì • */
            bottom: 25px;
            left: 25px;
            width: 0;
            height: 0;
        }

        /* ê° ê³µìœ  ë²„íŠ¼ (ê¸°ë³¸ ìƒíƒœ: ì¤‘ì•™ì— ì‘ê²Œ ìˆ¨ê²¨ì§) */
        .share-option-btn {
            position: absolute;
            /* ì•„ì´ì½˜ì˜ ì¤‘ì‹¬ì„ ê¸°ì¤€ì (0,0)ì— ë§ì¶¤ */
            top: 0;
            left: 0;
            /* ì¤‘ì•™ì—ì„œ 0% í¬ê¸°ë¡œ ì‹œì‘ */
            transform: translate(-50%, -50%) scale(0);
            display: flex;
            align-items: center;
            justify-content: center;
            width: 44px;
            height: 44px;
            border-radius: 50%;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
            /* í†µí†µ íŠ€ëŠ” ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼ */
            transition: all 0.3s cubic-bezier(0.18, 0.89, 0.32, 1.28);
            opacity: 0; /* ì‹œì‘ ì‹œ íˆ¬ëª… */
        }

        /* ë©”ë‰´ê°€ í¼ì³ì¡Œì„ ë•Œì˜ ìµœì¢… ìƒíƒœ */
        #share-options.visible .share-option-btn {
            opacity: 1;
            /* í¬ê¸°ë¥¼ ì›ë˜ëŒ€ë¡œ ëŒë¦¼ */
            transform-origin: center center;
        }

        /* ì¹´ì¹´ì˜¤ ë²„íŠ¼ (2ì‹œ ë°©í–¥) */
        #share-options.visible .share-option-btn.kakao {
            transform: translate(40px, -20px) scale(1);
        }

        /* X ë²„íŠ¼ (1ì‹œ ë°©í–¥) */
        #share-options.visible .share-option-btn.x {
            transform: translate(20px, -65px) scale(1);
        }

        /* ê° ë²„íŠ¼ì˜ ê³ ìœ  ìƒ‰ìƒ ì§€ì • */
        .share-option-btn.kakao {
            background-color: #FEE500;
        }
        .share-option-btn.x {
            background-color: #5cb6ff; /* í•˜ëŠ˜ìƒ‰ */
        }

        /* í˜¸ë²„ ì‹œ ì•½ê°„ ì»¤ì§€ëŠ” íš¨ê³¼ */
        .share-option-btn:hover {
            filter: brightness(1.1);
        }

        .share-option-btn img {
            width: 24px;
            height: 24px;
            vertical-align: middle;
        }

        @media (min-width: 600px) {
            #crossword-grid {
                grid-template-columns: repeat(10, 42px);
                grid-template-rows: repeat(10, 42px);
                gap: 3px;
                padding: 5px;
            }
            .grid-cell { font-size: 1.2em; }
            .cell-number { font-size: 0.7em; top: 2px; left: 3px; }
            #hint-text { font-size: 1.1em; }
            #answer-input, #submit-answer { font-size: 1.1em; }
        }

        /* --- âœ¨ 4. íŒì—… ìŠ¤íƒ€ì¼ ìˆ˜ì • âœ¨ --- */
        .popup-overlay {
            position: fixed; /* ì „ì²´ í™”ë©´ì„ ë®ë„ë¡ ìœ ì§€ */
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.6);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s, visibility 0.3s;
            padding: 20px; /* íŒì—…ì´ í™”ë©´ ê°€ì¥ìë¦¬ì— ë¶™ì§€ ì•Šë„ë¡ */
            box-sizing: border-box;
        }
        .popup-overlay.visible {
            opacity: 1;
            visibility: visible;
        }
        .popup {
            background-color: white;
            padding: 30px 25px; /* íŒ¨ë”© ì¡°ì • */
            border-radius: 16px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            text-align: center;
            width: 100%; /* ë„ˆë¹„ë¥¼ 100%ë¡œ ì„¤ì • */
            max-width: 400px; /* ìµœëŒ€ ë„ˆë¹„ëŠ” ìœ ì§€ */
            transform: scale(0.9);
            transition: transform 0.3s;
        }
        .popup-overlay.visible .popup {
            transform: scale(1);
        }
        .popup h2 {
            color: var(--main-pink);
            margin-top: 0;
            margin-bottom: 15px;
        }
        .popup p {
            margin-bottom: 25px;
            color: #666;
            line-height: 1.6;
        }

        /* --- âœ¨ íŒì—… ë‚´ ê³µìœ  ë²„íŠ¼ ìŠ¤íƒ€ì¼ âœ¨ --- */
        .popup-share-section {
            margin-top: 25px;
            padding-top: 20px;
            border-top: 1px solid #f0f0f0;
        }

        .share-prompt {
            font-size: 0.9em;
            color: #666;
            margin: 0 0 15px 0;
        }

        #popup-share-buttons {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .popup-share-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            padding: 12px;
            border-radius: 8px;
            font-weight: bold;
            text-decoration: none;
            transition: opacity 0.2s;
        }
        .popup-share-btn:hover {
            opacity: 0.8;
        }

        .popup-share-btn img {
            width: 28px;
            height: 28px;
        }

        .popup-share-btn.kakao {
            background-color: #FEE500;
            color: #191919;
        }

        .popup-share-btn.x {
            background-color: #5cb6ff;
            color: #191919;
        }

        #google-form-proxy {
            display: flex;
            flex-direction: column;
        }
        #google-form-proxy input {
            width: 100%;
            padding: 12px;
            border: 1px solid #ccc;
            border-radius: 8px;
            font-size: 1em;
            box-sizing: border-box;
            margin-bottom: 15px;
        }
        #google-form-proxy button {
            width: 100%;
            padding: 12px;
            font-size: 1.1em;
            font-weight: bold;
            background-color: var(--main-pink);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        #google-form-proxy button:hover {
            background-color: var(--dark-pink);
        }
        #close-popup {
            margin-top: 15px;
            background: none;
            border: none;
            color: #888;
            cursor: pointer;
            font-size: 0.9em;
        }
    </style>
</head>
<body>

    <div id="app-container">
        <h1>ì§€ë§Œì§€ë“œë¼ë§ˆ ì‹­ìë§í’€ì´</h1>

        <div class="intro-text">
            ì§€ë§Œì§€ë“œë¼ë§ˆ í¬ê³¡ì— ëŒ€í•œ ì§€ì‹ì„ ì´ë™ì›í•´ ì‹­ìë§í’€ì´ë¥¼ í’€ì–´ ì£¼ì„¸ìš”!<br>
            ì „í™” ì°¬ìŠ¤, ì§€ì¸ ì°¬ìŠ¤, ê²€ìƒ‰ ì°¬ìŠ¤ ëª¨ë‘ ê°€ëŠ¥í•©ë‹ˆë‹¤.<br>
            ì‹­ìë§í’€ì´ ì™„ì„± í›„ ì´ë©”ì¼ ì£¼ì†Œë¥¼ ë‚¨ê²¨ ì£¼ì‹œë©´ ì‹ ê°„ ì¦ì • ì´ë²¤íŠ¸ì— ìë™ ì‘ëª¨ë©ë‹ˆë‹¤.<br>
            ë‹¹ì²¨ë˜ì‹  ë¶„ê»˜ëŠ” â€œí¬ê³¡ì§€ì™•(æˆ±æ›²ä¹‹ç‹)â€ì— ëŒ€í•œ ê¹Šì€ ì¡´ê²½ê³¼ ê°ì‚¬ë¥¼ ë‹´ì•„ ìµœì‹ ê°„ í¬ê³¡ì„ ë³´ë‚´ ë“œë¦½ë‹ˆë‹¤.
        </div>
        
        <div id="crossword-container">
            <div id="crossword-grid"></div>
        </div>
    
        <div id="hint-area" class="ui-container">
            <p id="hint-text">ì¹¸ì„ í´ë¦­í•˜ì—¬ íŒíŠ¸ë¥¼ í™•ì¸í•˜ì„¸ìš”.</p>
        </div>
    
        <div id="input-area">
            <input type="text" id="answer-input" placeholder="ì •ë‹µì„ ì…ë ¥í•˜ì„¸ìš”">
            <button id="submit-answer">ì •ë‹µ í™•ì¸</button>
        </div>
        <div id="footer-actions">
            <div id="social-links">
                <a href="https://www.instagram.com/zmanzdrama/" onclick="trackSocialClick('Instagram')" target="_blank" title="ì§€ë§Œì§€ë“œë¼ë§ˆ ì¸ìŠ¤íƒ€ê·¸ë¨"><img src="ig.png" alt="Instagram"></a>
                <a href="https://x.com/jimanjideulama" onclick="trackSocialClick('X')" target="_blank" title="ì§€ë§Œì§€ë“œë¼ë§ˆ X"><img src="x.png" alt="X"></a>
                <a href="https://zmanzdrama.com/" onclick="trackSocialClick('Homepage')" target="_blank" title="ì§€ë§Œì§€ë“œë¼ë§ˆ í™ˆí˜ì´ì§€"><img src="home.png" alt="Homepage"></a>
            </div>
        
            <div class="separator"></div>
        
            <div id="share-feature">
                <div id="share-options">
                    <a href="javascript:shareToKakao()" class="share-option-btn kakao" title="ì¹´ì¹´ì˜¤í†¡ìœ¼ë¡œ ê³µìœ "><img src="kakaotalk.png" alt="KakaoTalk"></a>
                    <a href="javascript:shareToX()" class="share-option-btn x" title="Xë¡œ ê³µìœ "><img src="x.png" alt="X"></a>                </div>
                <a href="#" id="share-toggle-button" role="button" aria-label="ê³µìœ í•˜ê¸°">
                    <svg xmlns="http://www.w3.org/2000/svg" height="26px" viewBox="0 0 24 24" width="26px"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3s3-1.34 3-3-1.34-3-3-3z"/></svg>
                </a>
            </div>
        </div>

        
    <div id="completion-popup-overlay" class="popup-overlay">
        <div class="popup">
            <h2>ğŸ‰ ì¶•í•˜í•©ë‹ˆë‹¤! ğŸ‰</h2>
            <p>ëª¨ë“  ì •ë‹µì„ ë§ì¶”ì…¨ìŠµë‹ˆë‹¤!<br>ì´ë²¤íŠ¸ ì°¸ì—¬ë¥¼ ìœ„í•´ ì´ë©”ì¼ì„ ì œì¶œí•´ ì£¼ì„¸ìš”.</p>
            <form id="google-form-proxy">
                <input type="email" id="email-input" placeholder="ì´ë©”ì¼ ì£¼ì†Œë¥¼ ì…ë ¥í•˜ì„¸ìš”" required>
                <button type="submit">ì œì¶œí•˜ê³  ì™„ë£Œí•˜ê¸°</button>
            </form>
    
            <div class="popup-share-section">
                <p class="share-prompt">ì¹œêµ¬ë“¤ì—ê²Œ í¬ê³¡ì§€ì™• ë“±ê·¹ì„ ì•Œë ¤ ë³´ì„¸ìš”!</p>
                <div id="popup-share-buttons">
                    <a href="javascript:shareToKakao()" class="popup-share-btn kakao">
                        <img src="kakaotalk.png" alt="KakaoTalk">
                        <span>ì¹´í†¡ìœ¼ë¡œ ì•Œë¦¬ê¸°</span>
                    </a>
                    <a href="javascript:shareToX()" class="popup-share-btn x">
                        <img src="x.png" alt="X">
                        <span>Xë¡œ ì•Œë¦¬ê¸°</span>
                    </a>
                </div>
            </div>
            <button id="close-popup">ë‹«ê¸°</button>
        </div>
    </div>

    <script>
        // ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œëŠ” ë³€ê²½í•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.
        const gridData = [
            [1, 1, 1, 0, 0, 0, 1, 0, 0, 0], [0, 0, 1, 0, 0, 0, 1, 0, 1, 1], [1, 1, 1, 1, 1, 0, 1, 1, 0, 1], [0, 0, 1, 0, 0, 0, 1, 0, 0, 1], [0, 0, 1, 0, 0, 1, 0, 0, 0, 1], [1, 1, 1, 1, 0, 1, 1, 1, 0, 0], [0, 0, 0, 0, 0, 1, 0, 0, 1, 0], [0, 0, 1, 0, 1, 1, 1, 1, 1, 0], [0, 0, 1, 0, 0, 0, 0, 0, 1, 0], [1, 1, 1, 0, 1, 1, 1, 0, 1, 0]
        ];
        const circledNumbers = ['â‘ ', 'â‘¡', 'â‘¢', 'â‘£', 'â‘¤', 'â‘¥', 'â‘¦', 'â‘§', 'â‘¨'];  
        const encodedAnswers = "eyLqsIDroZwiOnsiMCwwIjp7Im51bWJlciI6MSwic3RhcnRSIjowLCJzdGFydEMiOjAsImFuc3dlciI6Iuy6lOuUlOuLpCIsImhpbnQiOiLikaAg7KGw7KeAIOuyhOuCmOuTnCDsh7zsnZgg7Z2s6rOhLCDigJjsnbTqsoMg66eI64uI7JWE4oCZ652864qUIOyLoOyhsOyWtOulvCDrgrPsnYAg7Z2l7ZaJ7J6RLiDsp4Drp4zsp4Drk5zrnbzrp4gg7LK07ZeYIDHtmLgg64+E7IScLiBb7IOd66y8XSDsp4Tqt6DrpZjsnZgg7ZWcIOyGjS4g7IKs7IOB6reg6rO8IO2aqOuqqOydmCDspJHqsIQg7ZiV7YOc66GcLCDsi53rrLzshLEg7Y+Q66y8LCDslpHsobAg7KCc7ZKIIOuUsOychOyXkCDshJ7sl6wg64+E7LKY7JeQ7IScIOyekOuegOuLpC4iLCJzb2x2ZWQiOmZhbHNlfSwiMiwwIjp7Im51bWJlciI6Miwic3RhcnRSIjoyLCJzdGFydEMiOjAsImFuc3dlciI6IuuLue2GteydmOyjveydjCIsImhpbnQiOiLikaEg67eU7Z6I64SI7J2YIO2drOqzoSwg7ZSE656R7IqkIO2YgeuqheqwgOydtOyekCDsoJXsuZjqsIDsnbgg4oCY64u57Ya14oCZ7J2YIOy1nO2bhOulvCDqt7jroLjri6QuIDIwMTnrhYQg6rWt66a96re564uoIOuwseyEse2drOyepeuvvO2YuCDqt7nsnqXsl5DshJwg6rO17Jew65CY7JeI64ukLiIsInNvbHZlZCI6ZmFsc2V9LCI1LDAiOnsibnVtYmVyIjozLCJzdGFydFIiOjUsInN0YXJ0QyI6MCwiYW5zd2VyIjoi66mU642w7J207JWEIiwiaGludCI6IuKRoiDsl5DsmrDrpqztlLzrjbDsiqTsnZgg7Z2s6rOhLCDrk5zrnbzrp4gg4oCY67aA67aA7J2YIOyEuOqzhOKAmeydmCDsm5DsnpEg4oCY64ul7YSwIO2PrOyKpO2EsOKAmeuKlCDsnbQg7Z2s6rOh7J2EIOuqqO2LsO2UhOuhnCDtlojri6QuIOy9nO2CpOyKpOydmCDsmZXrhYDroZwg66eI67KV7J2EIOyNqOyEnCDsnbTslYTshpDsnbQg7Zmp6riI7JaR7YS47J2EIOyGkOyXkCDrhKPsnYQg7IiYIOyeiOqyjCDrj4TsmZTri6QuIiwic29sdmVkIjpmYWxzZX0sIjksMCI6eyJudW1iZXIiOjQsInN0YXJ0UiI6OSwic3RhcnRDIjowLCJhbnN3ZXIiOiLqsIjrp6TquLAiLCJoaW50Ijoi4pGjIOyytO2YuO2UhOydmCA064yAIO2drOqzoSDspJEg7ZWY64KYLCDrsJTri7fqsIDsl5DshJwg7Z2U7Z6IIOuzvCDsiJgg7J6I64qUIOyDiOuLpC4g4oCY7IOI7Jqw6rmh4oCZ7J2EIOyii+yVhO2VnOuLpC4iLCJzb2x2ZWQiOmZhbHNlfSwiNyw0Ijp7Im51bWJlciI6NSwic3RhcnRSIjo3LCJzdGFydEMiOjQsImFuc3dlciI6IuustOq4sOyZgOyduOqwhCIsImhpbnQiOiLikaQg7KGw7KeAIOuyhOuCmOuTnCDsh7zsnZgg7Z2s6rOhLCDsoITsn4Eg7JiB7JuFIOyIreuwsCwg6rWw7J24IOyYiOywrOydhCDtko3snpDtlojri6QuIOybkOygnOuKlCDigJhBcm1zIGFuZCB0aGUgTWFu4oCZLiIsInNvbHZlZCI6ZmFsc2V9LCI5LDQiOnsibnVtYmVyIjo2LCJzdGFydFIiOjksInN0YXJ0QyI6NCwiYW5zd2VyIjoi67mE7Y+J6rCAIiwiaGludCI6IuKRpSDtj4nroaDsnYQg7KCE66y47Jy866GcIO2VmOuKlCDsgqzrnowuIO2bhOyViCDrp4jsmpTrpbTqsIDsnZgg7Z2s6rOhLiDrsLHtmITso7wsIOq5gOyLoOuhnSDrsLDsmrDqsIAg7Lac7Jew7ZWcIDIwMTnrhYQg6rO17Jew7J2AIOygoOuNlCDtlITrpqwg7LqQ7Iqk7YyF7Jy866GcIO2ZlOygnOqwgCDrkJjsl4jri6QuIiwic29sdmVkIjpmYWxzZX0sIjUsNSI6eyJudW1iZXIiOjcsInN0YXJ0UiI6NSwic3RhcnRDIjo1LCJhbnN3ZXIiOiLsi5zrnbzrhbgiLCJoaW50Ijoi4pGmIO2UhOuekeyKpOydmCDsi5zsnbjsnbTsnpAg7IaM7ISk6rCALiDqs7ztlZnshozshKTsnZgg7ISg6rWs7J6Q66GcIOuMgO2RnOyekeydgCA87JuU7IS46rOEIOyXrO2Wieq4sD4uIOyXkOuTnOuqvSDroZzsiqTtg5XsnbQg6re466W8IOyjvOyduOqzteycvOuhnCDsk7Qg7Z2s6rOh7J20IOyeiOuLpC4g666k7KeA7LusLCDsmIHtmZQg7KCc66qp7Jy866Gc64+EIOycoOuqhe2VmOuLpC4iLCJzb2x2ZWQiOmZhbHNlfSwiMiw2Ijp7Im51bWJlciI6OCwic3RhcnRSIjoyLCJzdGFydEMiOjYsImFuc3dlciI6Iu2ZlOyXvCIsImhpbnQiOiLikacg7Jew6re5IDzqt7jsnYTrprAg7IKs656RPuydmCDsm5DsnpEg7Z2s6rOhLiDsgqzsoIQg7KCV7J2Y64qUIOKAnO2DgOuKlCDrtojsl5DshJwg7J287Ja064KY64qUIOu2ieydgOu5m+ydmCDquLDsmrTigJ0uIiwic29sdmVkIjpmYWxzZX0sIjEsOCI6eyJudW1iZXIiOjksInN0YXJ0UiI6MSwic3RhcnRDIjo4LCJhbnN3ZXIiOiLtkZzsoIEiLCJoaW50Ijoi4pGoIOuqqe2RnOuhnCDsgrzripQg66y86rG07J2064KYIO2RnOyngOuhnCDsgrzripQg7ZGcLiDqsonsnLzroZwg65Oc65+s64KcIOyekOy3qC4g4oCY67O065Oc67mM7J2YIO2ZqeygnOKAmSDsmbjsoKAg652867mE7IqI7J2YIO2SjeyGjSDtnazqs6Eg7KCc66qp7J2064ukLiIsInNvbHZlZCI6ZmFsc2V9fSwi7IS466GcIjp7IjAsMiI6eyJudW1iZXIiOjEsInN0YXJ0UiI6MCwic3RhcnRDIjoyLCJhbnN3ZXIiOiLri6TsnIjsnZjqsbDrtoHsnbQiLCJoaW50Ijoi4pGgKOyEuCkg7ZuE7JWIIOuniOyalOultOqwgOydmCDtnazqs6EuIOynhO2ZlOuhoOyekCDssLDsiqQg64uk7JyI7J20IOqwiOudvO2MjOqzoOyKpOyErOyXkOyEnCDrjbDroKTri6Qg7YKk7Jq0IOqxsOu2geydtOqwgCAyMDDrhYQg7Jet7IKs66W8IOymneyWuO2VnOuLpOuKlCDshKTsoJXsnbTri6QuIiwic29sdmVkIjpmYWxzZX0sIjcsMiI6eyJudW1iZXIiOjIsInN0YXJ0UiI6Nywic3RhcnRDIjoyLCJhbnN3ZXIiOiLtmozrnoDquLAiLCJoaW50Ijoi4pGhKOyEuCkg7KSR6rWtIOybkOuCmOudvCDsnbTtlonrs7TsnZgg7Z2s6rOhLiDruIzroIjtnojtirjsnZggPOy9lOy5tOyEnOyKpOydmCDrsLHrrLXsm5A+7J2AIOydtCDsnpHtkojsnYQg6rCB7IOJ7ZWcIOqygy4g7ZWcIOyVhOydtOulvCDrhpPqs6Ag7ISc66GcIOyekOq4sCDsnpDsi53snbTrnbzqs6Ag7KO87J6l7ZWY64qUIOuRkCDsl6zsnbjsnZgg6rCI65Ox7J2EIO2MkOq0gCDtj6zssq3sspzsnbQg7ZW06rKw7ZWc64ukLiIsInNvbHZlZCI6ZmFsc2V9LCI0LDUiOnsibnVtYmVyIjozLCJzdGFydFIiOjQsInN0YXJ0QyI6NSwiYW5zd2VyIjoi64uk7Iuc65286riwIiwiaGludCI6IuKRoijshLgpIO2XiOq3nOydmCDtnazqs6EuIOynhOuPhOydmCDsnqXroYAg7ZKN7IaN7J24IOKAmOuLpOyLnOuemOq4sOKAmeulvCDqt7ntmZTtlZwg6rKD7Jy866GcIOyghO2GteydhCDtmZzsmqntlZwg66y064yAIOyXsOy2nOydtCDrj4vrs7TsnbTripQg7J6R7ZKI7J2064ukLiIsInNvbHZlZCI6ZmFsc2V9LCIwLDYiOnsibnVtYmVyIjo0LCJzdGFydFIiOjAsInN0YXJ0QyI6NiwiYW5zd2VyIjoi7ZKN7J6Q7ZmU7KCEIiwiaGludCI6IuKRoyjshLgpIOydvOuzuCDsoITthrXqt7kg64W47J2YIOuMgOyEseyekCDsoJzslYTrr7jqsIAg7JO0IOy1nOy0iOydmCDrhbgg7J2066Gg7ISc64ukLiDsoJzslYTrr7gg6rCA66y47J2YIOu5hOq4sOuhnOunjCDsoITtlbTsp4DrjZgg6rKD7J20IO2YhOuMgOyXkCDrk6TslrQg6rO16rCc65CY7JeI64ukLiDsl7DquLDsnZgg6r2D7J2EIO2UvOyasOq4sCDsnITtlZwg67mE6rKwLCDtj4nsg53sl5Ag6rG47LmcIOyImOugqCwg7IiY7JaR7J2YIOuwqeuyleydhCDsnbzrn6wg7KSA64ukLiIsInNvbHZlZCI6ZmFsc2V9LCI2LDgiOnsibnVtYmVyIjo1LCJzdGFydFIiOjYsInN0YXJ0QyI6OCwiYW5zd2VyIjoi7J246rCE7J2Y7IK2IiwiaGludCI6IuKRpCjshLgpIOugiOyYpOuLiO2KuCDslYjrk5zroIjsmIjtlITsnZgg7IaM7ISkIO2YleyLneydmCDtnazqs6EuIOyViOuTnOugiOyYiO2UhOuKlCDsnbQg7J6R7ZKI7J2EIO2Gte2VtCDsgrbsnZgg7J2Y66+46rCAIOustOyXh+yduOyngCDrgYrsnoTsl4bsnbQg7KeI66y47ZWc64ukLiIsInNvbHZlZCI6ZmFsc2V9LCIxLDkiOnsibnVtYmVyIjo2LCJzdGFydFIiOjEsInN0YXJ0QyI6OSwiYW5zd2VyIjoi7KCB7J6Q7IOJ7ISsIiwiaGludCI6IuKRpSjshLgpIOuvuO2VmOydvCDrtojqsIDsvZTtlITsnZgg7Z2s6rOhLiDqsoDsl7TroZwg7J247ZWcIOywveyekSDtmZzrj5nsnZgg7KCc7JW97J2EIOq3ueykkeq3uSDtmJXsi53snLzroZwg7ZKN7J6Q7ZaI64ukLiIsInNvbHZlZCI6ZmFsc2V9fX0=";
        const answers = JSON.parse(decodeURIComponent(escape(atob(encodedAnswers))));
        const gridContainer = document.getElementById('crossword-grid');
        const hintText = document.getElementById('hint-text');
        const answerInput = document.getElementById('answer-input');
        const submitButton = document.getElementById('submit-answer');
        const popupOverlay = document.getElementById('completion-popup-overlay');
        const closePopupButton = document.getElementById('close-popup');
        const googleForm = document.getElementById('google-form-proxy');
        const emailInput = document.getElementById('email-input');

        let selectedCell = null;
        let currentWordHints = [];
        const totalWords = Object.keys(answers.ê°€ë¡œ).length + Object.keys(answers.ì„¸ë¡œ).length;
        
        // ì´í•˜ ìŠ¤í¬ë¦½íŠ¸ëŠ” ì´ì „ê³¼ ë™ì¼í•©ë‹ˆë‹¤.
        function createGrid() {
            for (let r = 0; r < 10; r++) {
                for (let c = 0; c < 10; c++) {
                    const cell = document.createElement('div');
                    cell.classList.add('grid-cell');
                    cell.dataset.row = r;
                    cell.dataset.col = c;
                    if (gridData[r][c] === 1) {
                        cell.classList.add('active');
                        cell.addEventListener('click', () => selectCell(r, c));
                        let hasHorizontal = false;
                        for (const key in answers.ê°€ë¡œ) {
                            const word = answers.ê°€ë¡œ[key];
                            if (word.startR === r && word.startC === c) {
                                const numSpan = document.createElement('span');
                                numSpan.classList.add('cell-number');
                                numSpan.textContent = circledNumbers[word.number - 1];
                                cell.appendChild(numSpan);
                                hasHorizontal = true;
                                break;
                            }
                        }
                        for (const key in answers.ì„¸ë¡œ) {
                            const word = answers.ì„¸ë¡œ[key];
                            if (word.startR === r && word.startC === c) {
                                const numSpan = document.createElement('span');
                                numSpan.classList.add('cell-number');
                                numSpan.textContent = circledNumbers[word.number - 1];
                                if (hasHorizontal) {
                                    numSpan.style.left = '18px';
                                }
                                cell.appendChild(numSpan);
                                break;
                            }
                        }
                    }
                    gridContainer.appendChild(cell);
                }
            }
        }
        function selectCell(r, c) {
            if (selectedCell) {
                const prevEl = gridContainer.querySelector(`.grid-cell.selected`);
                if(prevEl) prevEl.classList.remove('selected');
            }
            const currentCell = gridContainer.querySelector(`.grid-cell[data-row="${r}"][data-col="${c}"]`);
            if (currentCell && currentCell.classList.contains('active')) {
                const isFilled = Array.from(currentCell.classList).some(cls => cls.startsWith('filled-'));
                if (!isFilled) {
                        currentCell.classList.add('selected');
                        selectedCell = { r, c };
                        displayHint(r, c);
                        answerInput.focus();
                } else {
                    displayHint(r, c);
                }
            } else {
                selectedCell = null;
                hintText.innerHTML = "ì¹¸ì„ í´ë¦­í•˜ì—¬ íŒíŠ¸ë¥¼ í™•ì¸í•˜ì„¸ìš”.";
            }
        }
        function displayHint(r, c) {
            currentWordHints = [];
            let hintsHtml = [];
            Object.values(answers.ê°€ë¡œ).forEach(word => {
                if (word.startR === r && c >= word.startC && c < word.startC + word.answer.length) {
                    currentWordHints.push({ ...word, type: "ê°€ë¡œ" });
                    if (!word.solved) hintsHtml.push(word.hint);
                }
            });
            Object.values(answers.ì„¸ë¡œ).forEach(word => {
                if (word.startC === c && r >= word.startR && r < word.startR + word.answer.length) {
                    currentWordHints.push({ ...word, type: "ì„¸ë¡œ" });
                    if (!word.solved) hintsHtml.push(word.hint);
                }
            });
            if (hintsHtml.length > 0) {
                hintText.innerHTML = hintsHtml.join('<br><br>');
            } else if (currentWordHints.length > 0) {
                hintText.textContent = "ì´ë¯¸ ì •ë‹µì„ ë§ì¶˜ ì¹¸ì…ë‹ˆë‹¤.";
            } else {
                hintText.textContent = "ì´ ì¹¸ì€ ë‹¨ì–´ì˜ ì¼ë¶€ê°€ ì•„ë‹™ë‹ˆë‹¤.";
            }
        }
        function submitAnswer() {
            if (!selectedCell) {
                alert("ë¨¼ì € ì •ë‹µì„ ì…ë ¥í•  ì¹¸ì„ ì„ íƒí•˜ì„¸ìš”.");
                return;
            }
            const userAnswer = answerInput.value.trim().replace(/\s/g, '').toUpperCase();
            if (!userAnswer) return;
            let isCorrect = false;
            for (const wordInfo of currentWordHints) {
                if (!wordInfo.solved && userAnswer === wordInfo.answer.toUpperCase()) {
                    isCorrect = true;
                    const originalWordKey = `${wordInfo.startR},${wordInfo.startC}`;
                    const originalWordObject = answers[wordInfo.type][originalWordKey];
                    if(originalWordObject) {
                        originalWordObject.solved = true;
                    }
                    fillAnswerOnGrid(wordInfo);
                }
            }
            if (isCorrect) {
                const solvedCount = Object.values(answers.ê°€ë¡œ).filter(w => w.solved).length + 
                                     Object.values(answers.ì„¸ë¡œ).filter(w => w.solved).length;
                if (solvedCount === totalWords) {
                    handleGameCompletion();
                }
            } else {
                alert("ì˜¤ë‹µì…ë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ë³´ì„¸ìš”.");
            }
            answerInput.value = '';
            if (selectedCell) {
                const prevEl = gridContainer.querySelector(`.grid-cell.selected`);
                if (prevEl) prevEl.classList.remove('selected');
                selectedCell = null;
            }
            hintText.innerHTML = "ì¹¸ì„ í´ë¦­í•˜ì—¬ íŒíŠ¸ë¥¼ í™•ì¸í•˜ì„¸ìš”.";
        }
        function fillAnswerOnGrid(wordInfo) {
            const { startR, startC, answer, type } = wordInfo;
            const answerChars = answer.split('');
            if (type === "ê°€ë¡œ") {
                for (let i = 0; i < answerChars.length; i++) {
                    const cell = gridContainer.querySelector(`.grid-cell[data-row="${startR}"][data-col="${startC + i}"]`);
                    if (cell) {
                        cell.textContent = answerChars[i];
                        cell.classList.add('filled');
                        const numSpans = cell.querySelectorAll('.cell-number');
                        numSpans.forEach(span => span.style.display = 'none');
                    }
                }
            } else if (type === "ì„¸ë¡œ") {
                for (let i = 0; i < answerChars.length; i++) {
                    const cell = gridContainer.querySelector(`.grid-cell[data-row="${startR + i}"][data-col="${startC}"]`);
                    if (cell) {
                        cell.textContent = answerChars[i];
                        cell.classList.add('filled');
                        const numSpans = cell.querySelectorAll('.cell-number');
                        numSpans.forEach(span => span.style.display = 'none');
                    }
                }
            }
        }
        function handleGameCompletion() {
            gtag('event', 'puzzle_completed'); // <-- ì´ ì¤„ì„ ì¶”ê°€í•˜ì„¸ìš”
            const duration = 3 * 1000;
            const end = Date.now() + duration;
            (function frame() {
                confetti({ particleCount: 2, angle: 60, spread: 55, origin: { x: 0 }, colors: ['#ff69b4', '#fff0f5', '#c71585'] });
                confetti({ particleCount: 2, angle: 120, spread: 55, origin: { x: 1 }, colors: ['#ff69b4', '#fff0f5', '#c71585'] });
                if (Date.now() < end) requestAnimationFrame(frame);
            }());
            setTimeout(() => { popupOverlay.classList.add('visible'); }, 1000);
        }
        function handleFormSubmit(e) {
            e.preventDefault();
            const email = emailInput.value;
            if (!email) {
                alert('ì´ë©”ì¼ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }
            const formData = new FormData();
            formData.append('entry.1761557489', email); // ì‹¤ì œ í•„ë“œ IDë¡œ ë³€ê²½ í•„ìš”
            fetch('https://docs.google.com/forms/d/e/1FAIpQLSc8HijHiUmX5wzeLZzjh32wyZrotG7brjDBUGaVKzvePbiLxA/formResponse', { // ì‹¤ì œ ì•¡ì…˜ URLë¡œ ë³€ê²½ í•„ìš”
                method: 'POST',
                body: formData,
                mode: 'no-cors'
            })
            .then(() => {
                alert('ì´ë©”ì¼ì´ ì„±ê³µì ìœ¼ë¡œ ì œì¶œë˜ì—ˆìŠµë‹ˆë‹¤. ê°ì‚¬í•©ë‹ˆë‹¤!');
                popupOverlay.classList.remove('visible');
                emailInput.value = '';
            }).catch(error => {
                console.error('Error:', error);
                alert('ì œì¶œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
            });
        }
        submitButton.addEventListener('click', submitAnswer);
        answerInput.addEventListener('keydown', (e) => { if (e.key === 'Enter') submitAnswer(); });
        closePopupButton.addEventListener('click', () => { popupOverlay.classList.remove('visible'); });
        popupOverlay.addEventListener('click', (e) => { if (e.target === popupOverlay) popupOverlay.classList.remove('visible'); });
        googleForm.addEventListener('submit', handleFormSubmit);
        createGrid();

        function trackSocialClick(platform) {
            gtag('event', 'social_link_click', {
                'social_platform': platform
            });
        }


        const shareToggleButton = document.getElementById('share-toggle-button');
        const shareOptions = document.getElementById('share-options');

        // ê³µìœ  ë²„íŠ¼ í´ë¦­ ì‹œ ì•„ì´ì½˜ë“¤ í‘œì‹œ/ìˆ¨ê¹€
        shareToggleButton.addEventListener('click', (e) => { // (e) ì¶”ê°€
            e.preventDefault(); // í˜ì´ì§€ ì´ë™ì„ ë§‰ëŠ” ì½”ë“œ ì¶”ê°€
            shareOptions.classList.toggle('visible');
        });
        // 4. ì¹´ì¹´ì˜¤í†¡ ê³µìœ  ê¸°ëŠ¥
        function shareToKakao() {
            gtag('event', 'share_kakao'); // <-- ì´ ì¤„ì„ ì¶”ê°€í•˜ì„¸ìš”
            if (Kakao.isInitialized()) {
                Kakao.Link.sendDefault({
                    objectType: 'feed',
                    content: {
                        title: 'ì§€ë§Œì§€ë“œë¼ë§ˆ ì‹­ìë§í’€ì´',
                        description: 'í¬ê³¡ì§€ì™•(æˆ±æ›²ä¹‹ç‹)ì— ë„ì „í•´ ë³´ì„¸ìš”!',
                        // ê³µìœ  ì‹œ ë³´ì¼ ì¸ë„¤ì¼ ì´ë¯¸ì§€ ê²½ë¡œ
                        imageUrl: 'https://zmanzdrama.netlify.app/crossword/crossword_k_thumb.jpg',
                        link: {
                            mobileWebUrl: window.location.href,
                            webUrl: window.location.href,
                        },
                    },
                    buttons: [
                        {
                            title: 'ì‹­ìë§í’€ì´ í•˜ëŸ¬ ê°€ê¸°',
                            link: {
                                mobileWebUrl: window.location.href,
                                webUrl: window.location.href,
                            },
                        },
                    ],
                });
            } else {
                alert("ì¹´ì¹´ì˜¤ SDKê°€ ì´ˆê¸°í™”ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ê´€ë¦¬ìì—ê²Œ ë¬¸ì˜í•˜ì„¸ìš”.");
            }
        }

        // 5. X(íŠ¸ìœ„í„°) ê³µìœ  ê¸°ëŠ¥
        function shareToX() {
            gtag('event', 'share_x'); // <-- ì´ ì¤„ì„ ì¶”ê°€í•˜ì„¸ìš”
            const shareText = "ì§€ë§Œì§€ë“œë¼ë§ˆ ì‹­ìë§í’€ì´, í¬ê³¡ì§€ì™•(æˆ±æ›²ä¹‹ç‹)ì— ë„ì „í•´ ë³´ì„¸ìš”!";
            const shareUrl = window.location.href;
            const twitterUrl = `https://twitter.com/intent/tweet?text=${encodeURIComponent(shareText)}&url=${encodeURIComponent(shareUrl)}`;
            window.open(twitterUrl, "_blank");
        }

        document.addEventListener('click', function(event) {
            if (
                shareOptions.classList.contains('visible') &&
                !shareToggleButton.contains(event.target) &&
                !shareOptions.contains(event.target)
            ) {
                shareOptions.classList.remove('visible'); // 'visible' í´ë˜ìŠ¤ë¥¼ ì œê±°í•˜ì—¬ ë©”ë‰´ë¥¼ ë‹«ëŠ”ë‹¤.
            }
        });

    </script>
</body>
</html>